<app-header></app-header>
<div class="row">
  <div class="mx-auto" style="width: 65%;">
    <h2 style="margin-top: 20px;">Create a session</h2>
    <form [formGroup]="createForm" (ngSubmit)="createRoom()">
      <div class="form-group">
        <label for="pin">PIN number</label>
        <input type="number" [ngClass]="['form-control', getValidStatus('pin')]" id="pin" class="form-control" formControlName="pin">
        <div class="invalid-feedback"> {{ getFormValidationErrors("pin") }} </div>
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" [ngClass]="['form-control', getValidStatus('password')]" id="password" class="form-control" formControlName="password">
        <div class="invalid-feedback"> {{ getFormValidationErrors("password") }} </div>
      </div>
      <button class="btn btn-primary" [disabled]="createForm.invalid" type="submit">Create session
      </button>
    </form>
    <ngb-alert [dismissible]="false" type="danger" *ngIf="errorMessage" style="margin-top: 1rem; text-align: center;">
      {{ errorMessage }}
    </ngb-alert>
    
    <div *ngIf="this.creating && !errorMessage">
      <div class="d-flex justify-content-center">
        <div class="spinner-border" role="status"></div>
      </div>
      <div class="d-flex justify-content-center">
        <h3>Creating session...</h3>
      </div>
    </div>
  </div>
</div>